---
id: create-command-enum-and-input
level: task
title: "Create Command enum and input module structure"
short_code: "CRT-T-0083"
created_at: 2025-11-28T14:51:29.303037+00:00
updated_at: 2025-11-28T15:23:03.262571+00:00
parent: CRT-I-0015
blocked_by: []
archived: true

tags:
  - "#task"
  - "#phase/completed"


exit_criteria_met: false
strategy_id: NULL
initiative_id: CRT-I-0015
---

# Create Command enum and input module structure

## Objective

Create the foundational `input/` module structure with the `Command` enum that will be used by all input handlers to return testable, side-effect-free results.

## Acceptance Criteria

## Acceptance Criteria

## Acceptance Criteria

## Acceptance Criteria

- [ ] `src/input/mod.rs` exists and re-exports all submodules
- [ ] `src/input/commands.rs` contains comprehensive `Command` enum
- [ ] Command enum covers: terminal I/O, selection, clipboard, navigation, window, search, display
- [ ] Commands are `Debug`, `Clone`, `PartialEq` for testability
- [ ] `lib.rs` exports the input module
- [ ] Code compiles with no warnings

## Implementation Notes

### Files to Create

**`src/input/mod.rs`**:
```rust
mod commands;
pub use commands::Command;

// Will add more as other input tasks complete:
// mod keyboard;
// mod mouse;
// mod url_detection;
```

**`src/input/commands.rs`**:
```rust
use alacritty_terminal::index::Point;

#[derive(Debug, Clone, PartialEq)]
pub enum SelectionMode {
    Simple,
    Word,
    Line,
    Block,
}

#[derive(Debug, Clone, PartialEq)]
pub enum Command {
    // Terminal I/O
    SendToPty(Vec<u8>),
    ScrollLines(i32),
    ScrollToTop,
    ScrollToBottom,
    
    // Selection
    StartSelection(Point, SelectionMode),
    UpdateSelection(Point),
    EndSelection,
    ClearSelection,
    
    // Clipboard
    Copy(String),
    Paste,
    
    // Navigation
    OpenUrl(String),
    SwitchTab(u64),
    NextTab,
    PreviousTab,
    NewTab,
    CloseTab(u64),
    CloseCurrentTab,
    
    // Window
    NewWindow,
    CloseWindow,
    ToggleFullscreen,
    
    // Search
    OpenSearch,
    CloseSearch,
    FindNext,
    FindPrevious,
    SetSearchQuery(String),
    
    // Display
    RequestRedraw,
    AdjustFontScale(f32),
    ResetFontScale,
}
```

### Dependencies

None - this is the foundation for other input tasks.

### Notes

- Use `alacritty_terminal::index::Point` for grid positions
- Tab IDs use `u64` to match existing `shells: HashMap<u64, ShellTerminal>`
- `SelectionMode` mirrors existing selection behavior in `input.rs`