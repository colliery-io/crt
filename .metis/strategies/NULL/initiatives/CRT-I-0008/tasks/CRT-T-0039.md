---
id: add-ansi-16-color-palette-parsing
level: task
title: "Add ANSI 16-color palette parsing to crt-theme"
short_code: "CRT-T-0039"
created_at: 2025-11-26T17:50:52.337853+00:00
updated_at: 2025-11-26T20:35:40.653161+00:00
parent: CRT-I-0008
blocked_by: []
archived: false

tags:
  - "#task"
  - "#phase/completed"


exit_criteria_met: false
strategy_id: NULL
initiative_id: CRT-I-0008
---

# Add ANSI 16-color palette parsing to crt-theme

## Parent Initiative

[[CRT-I-0008]] - Terminal Rendering Pipeline and ANSI Color Support

## Objective

Parse ANSI 16-color palette CSS variables from theme files and expose them through the Theme struct. This is the foundation for terminal color support.

## Acceptance Criteria

## Acceptance Criteria

## Acceptance Criteria

- [ ] `AnsiPalette` struct defined with 16 color fields (8 normal + 8 bright)
- [ ] CSS parser recognizes `--ansi-*` variables
- [ ] Default Dracula-inspired palette provided as fallback
- [ ] `Theme` struct includes `ansi_palette: AnsiPalette` field
- [ ] Unit tests for palette parsing

## Implementation Notes

### CSS Variables to Parse

```css
--ansi-black: #1a1a2e;
--ansi-red: #ff5555;
--ansi-green: #50fa7b;
--ansi-yellow: #f1fa8c;
--ansi-blue: #6272a4;
--ansi-magenta: #ff79c6;
--ansi-cyan: #8be9fd;
--ansi-white: #f8f8f2;
--ansi-bright-black: #44475a;
--ansi-bright-red: #ff6e6e;
--ansi-bright-green: #69ff94;
--ansi-bright-yellow: #ffffa5;
--ansi-bright-blue: #d6acff;
--ansi-bright-magenta: #ff92df;
--ansi-bright-cyan: #a4ffff;
--ansi-bright-white: #ffffff;
```

### Technical Approach

1. Add `AnsiPalette` struct to `crates/crt-theme/src/lib.rs`
2. Extend CSS parser to extract `--ansi-*` variables
3. Add `ansi_palette` field to `Theme` struct
4. Provide `Default` impl with Dracula-inspired colors

### Files to Modify

- `crates/crt-theme/src/lib.rs` - Add AnsiPalette struct and parsing

## Status Updates

*To be added during implementation*